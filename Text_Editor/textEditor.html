<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../bootstrap-5.1.1-dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="./txtEditorCSS.css">
        <link rel="icon" href="../Images/LogoECircle.png">
        <title> E-Scritoire</title>
    </head>
    <body>
        <div id="notPrinted">
        <!-- Navigation Bar -->
        <nav id="menu" class="fs-5 navbar navbar-expand-lg navbar-dark bg-dark" style="z-index: 50;">
            <div class="container-fluid">
                <div class="navbar-brand font-monospace"><div data-bs-toggle="modal" data-bs-target="#clockUtilModal" id="clock"></div></div>
                <button type="button" class="navbar-toggler" aria-expanded="false" data-bs-toggle="collapse" data-bs-target="#nav_content"><span class="navbar-toggler-icon"></span></button>
                <div class="navbar-collapse justify-content-end collapse" id="nav_content">
                    <ul class="navbar-nav text-light" style="text-align: right;">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active">Text Editor</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../Calculator/calculator.html">Calculator</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Clock Utilities  -->
        <div class="modal fade" id="clockUtilModal">
            <div class="modal-dialog">
                <div class="modal-content" style="cursor: pointer;">
                    <div class="modal-header">
                        <h3 class="modal-title">Clock Utilities</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-content">
                        <div class="container">
                            <p><div id="clockFull"></div></p>
                            <hr>
                        </div>
                        <div class="container d-block m-auto">
                            <div class="timerDisplay text-center d-block mx-auto w-50 text-light my-3 bg-dark p-3">
                                00 : 00 : 00 : 00
                            </div>
                            <div class="buttons my-3 d-block mx-auto text-center">
                                <button class="btn btn-lg text-light" style="background-color: #FF7F27;" id="startTimer">Start</button>
                                <button class="btn btn-lg text-light btn-secondary" id="pauseTimer">Pause</button>
                                <button class="btn btn-lg text-light btn-secondary" id="resetTimer">Reset</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button data-bs-dismiss="modal" class="btn text-light" style="background-color: #FF7F27;">Run in Background</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Toolbar -->
        <div class="container-fluid p-2 g-0 bg-light" id="toolbars">
            <div class="row toolbar">
                <div class="col-12 col-sm-4 col-md-2">
                    <div id="fileHandling" class="row">
                        <div class="text-secondary text-center my-2">
                            <span class="text-success" id="save_status"><img src="./SVGs/check-circle-fill.svg" width="16px">&Tab;Saved</span>
                        </div>
                        <div class="btn-group">
                            <button id="helpCatalogue" class="btn btn-lg" title="Help" data-bs-toggle="modal" data-bs-target="#helpModal"><img src="./SVGs/question-circle.svg"></button>
                            <button class="btn btn-lg" id="printDoc" title="Save As..."><img src="./SVGs/printer-fill.svg"></button>
                            <button class="btn btn-lg" id="readModeBtn" title="Enable Read Mode"><img src="./SVGs/book.svg"></button>
                            <button class="btn btn-lg" id="themeChanger" title="Theme"><span id="themeDot"><input type="color" id="themeChangerInput" class="d-none"></span></button>
                        </div>
                    </div>
                </div>
                <hr class="d-sm-none d-block">
                <div id="textFormattingToolbar" class="col-12 col-sm-8 col-md-4" style="border-left: 1px solid lightgrey;">
                    <h6 class="text-center">Text Formatting</h6>
                    <div id="fontEditing">
                        <div class="d-flex row justify-content-between">
                            <select id="fontStyleSelector" class="col">
                                <option>Arial</option>
                                <option>Calibri</option>
                                <option>Comic Sans MS</option>
                                <option>Courier New</option>
                                <option>Georgia</option>
                                <option>Palatino</option>
                                <option>Times</option>
                                <option>Times New Roman</option>
                                <option>Trebuchet MS</option>
                                <option>Verdana</option>
                            </select>
                            <div class="btn-group col">
                                <button id="decreaseFont" class="btn-sm btn-muted p-1 border-0 fw-bold">&minus;</button>
                                <span id="fontSizeDisplay" class="d-inline-block px-2 border border-2"> 16 </span>
                                <button id="increaseFont" class="btn-sm btn-muted p-1 border-0 fw-bold">&plus;</button>
                            </div>
                            <div class="btn-group col">
                                <button id="justifyLeft" title="CTRL + 4" class="btn"><img src="./SVGs/text-left.svg"></button>
                                <button id="justifyCenter" title="CTRL + 8" class="btn"><img src="./SVGs/text-center.svg"></button>
                                <button id="justifyRight" title="CTRL + 6" class="btn"><img src="./SVGs/text-right.svg"></button> 
                                <button id="justifyFull" title="CTRL + 2" class="btn"><img src="./SVGs/justify.svg"></button> 
                            </div>
                            <div class="btn-group col">
                                <button id="boldBtn" title="CTRL + B" class="btn"><strong>B</strong></button>
                                <button id="italicBtn" title="CTRL + I" class="btn"><i>I</i></button>
                                <button id="underlineBtn" title="CTRL + U" class="btn"><u>U</u></button>
                            </div>
                        </div>
                    </div>
                    <div class="btn-group float-end">
                        <div class="btn-group border-1 border">
                            <button id="backColorBtn" class="btn" style="background-color: yellow;" title="CTRL + 9">ABC</button>
                            <button data-bs-toggle="modal" data-bs-target="#highlightModal" class="btn dropdown-toggle"></button>
                        </div>
                        <div class="btn-group border border-1 mx-1">
                            <button id="foreColorBtn" class="btn" title="CTRL + 7"><span style="border-bottom: 3px solid lightcoral;">A</span></button>
                            <button class="dropdown-toggle btn" data-bs-target="#fontColorModal" data-bs-toggle="modal"></button>
                        </div>
                        <button id="strikeThroughBtn" title="CTRL + SHIFT + -" class="btn"><strike>abc</strike></button>
                        <button id="superscriptBtn" title="CTRL + SHIFT + 6" class="btn">x<sup>2</sup></button>
                        <button id="subscriptBtn" title="CTRL + SHIFT + 3" class="btn">x<sub>2</sub></button>
                        <div class="btn-group border border-1 mx-1">
                            <button id="createLink" class="btn"><img src="./SVGs/link-45deg.svg"></button>
                            <button class="dropdown-toggle btn" data-bs-toggle="modal" data-bs-target="#linkCreatorModal"></button>
                        </div>
                    </div>
                </div>
                <hr class="d-md-none d-block">
                <div id="pageFormattingToolbar" class="col-12 col-md-6" style="border-left: 1px solid lightgrey;">
                    <h6 class="text-center">Page Formatting & Miscellaneous</h6>
                    <div class="d-flex justify-content-center">
                        <button class="btn" id="addBorders" data-bs-toggle="modal" data-bs-target="#pageBordersModal"><img src="./SVGs/border-outer.svg"><br>Page Borders</button>
                        <button class="btn" id="addAPage"><img src="./SVGs/add-page.svg"><br>Add Page</button>
                        <button data-bs-toggle="modal" data-bs-target="#pageDimensionModal"  id="pageDimensionsBtn" class="btn"><img src="./SVGs/page-size.svg"><br>Page Dimensions</button>
                        <button class="btn" data-bs-toggle="modal" data-bs-target="#pageBackgroundColorModal"><img src="./SVGs/droplet-fill.svg"><br>Page Fill</button>
                        <button class="btn" data-bs-toggle="modal" data-bs-target="#insertImageModal"><img src="./SVGs/image.svg"><br>Insert Image</button>
                        <button class="btn" data-bs-toggle="modal" data-bs-target="#themeSetterModal"><img src="./SVGs/palette.svg"><br>Themes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Necessary Interactive Components -->
        <!-- Modal for Help -->
        <div class="modal" id="helpModal">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Help Catalogue</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p>Welcome to E-Scritoire's Text Editor. Here you can find the use of some basic commands along with the shortcuts.</p>
                        <hr>
                        <h6><mark>File Handling Toolbar</mark></h6>
                        <p><img src="./Help Images/FileHandling.JPG">
                            The image you see above is the file handling toolbar. The "Saved" displays your file status. When it "Tried Saving" it means that the user tried to save the file locally on his/her computer. When it turns to "Not Saved" it means the user edited the file and its not up to date.<br>
                            The printer icon you see allows you to save the file in a different format, for instance, as a PDF. The book icon allows you to stop the editing and only read the contents.
                        </p>
                        <br><hr>
                        <h6><mark>Text Formatting Toolbar</mark></h6>
                        <p><img src="./Help Images/TextFormatting.JPG" style="width: 100%;">
                            <b>The buttons from left to right in the first row are:</b><br>
                            Font Style, Font Size, Justify (4 options), Bold, Italic and Underline.
                            <br>
                            <b>Similarly for the second line:</b><br>
                            Highlight, Font Color, Strike, Sup, Sub, Link.
                        </p>
                        <table class="table border">
                            <tr><td>B, I, U</td><td>Makes the text bold, italic or underline</td></tr>
                            <tr><td>Link</td><td>Creates a link on a text. The link of the URL can be set via the small dropdown button on the right of the link button.</td></tr>
                            <tr><td>Highlight</td><td>Highlights a certain part of the text</td></tr>
                            <tr><td>Font Size</td><td>Clicking + or - around the font size setter will change the current font size.</td></tr>
                            <tr><td>Font Color</td><td>Sets a font color for the text.</td></tr>
                            <tr><td>Font Style</td><td>Sets a font for the text</td></tr>
                            <tr><td>Justify</td><td>Aligns the content of the document.</td></tr>
                            <tr><td>Strike</td><td>Strikes a given content.</td></tr>
                            <tr><td>Sup, Sub</td><td>Superscripts or subscripts a certain text.</td></tr>
                        </table>
                        <br><hr>
                        <h6><mark>Page Formatting Toolbar</mark></h6>
                        <p><img src="./Help Images/PageFormatting.JPG" style="width: 100%;">
                            This is the page formatting toolbar. Here you can apply page borders, set the background color, background image and theme for the page, add a page, set the size of the page according to your requirements as well as insert and delete images on the pages of your document.
                        </p>
                        <br><hr>
                        That's all. Happy editing! Make sure to rate us so that we can improve.
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Themes -->
        <div class="modal" id="themeSetterModal">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Set a Theme</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p>Choose a theme: &nbsp;<span id="sayThemeId" style="color: var(--orange_main); font-family: Arial, Helvetica, sans-serif;">Plain</span></p>
                        <div class="d-flex justify-content-center" id="Themes">
                            <button id="Classic" class="divbox2 btn" style="padding: 5px; background-image: linear-gradient(315deg, var(--colorP), var(--colorS));">
                                <div style="min-height: 45px; background-color: white;"></div>
                            </button>
                            <button id="SolarDark" class="divbox2 btn" style="padding: 5px; background-image: linear-gradient(315deg, var(--colorP), var(--colorS));">
                                <div style="min-height: 40px; background-color: transparent;"></div>
                            </button>
                            <button id="TwoShades" class="divbox2 btn" style="padding: 5px; background-image: linear-gradient(315deg, var(--colorP) 50%, var(--colorS) 50%);">
                                <div style="min-height: 40px; background-color: transparent;"></div>
                            </button>
                            <button id="Plain" class="divbox2 btn" style="background-color: white;">
                                <div class="divbox-selected2" style="min-height: 40px; background-color: transparent;"></div>
                            </button>
                        </div>
                        <hr>
                        <div>
                            <p class="d-flex">Choose Theme Colors:</p>
                            <div class="d-flex justify-content-evenly">
                                <p><input type="color" id="colorP" class="form-control form-control-color theme-color" value="#FF7F27">Primary</p>
                                <p><input type="color" id="colorS" class="form-control form-control-color theme-color" value="black">Secondary</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn text-light" style="background-color: var(--orange_main);" id="setTheme" data-bs-dismiss="modal">Set Theme</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Link Settings -->
        <div class="modal" id="linkCreatorModal">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Link Creator</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group">
                            <span class="input-group-text" id="urlForLink">@</span>
                            <input id="URLValue" type="text" class="form-control" placeholder="URL for Link..." aria-describedby="urlForLink">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn text-light" id="URLSetter" style="background-color: var(--orange_main);" data-bs-dismiss="modal">Create Link</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Page Borders -->
        <div class="modal fade" id="pageBordersModal">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Page Borders</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div>
                            <h6>Select the type of border:</h6>
                            <button class="divbox btn" style="border-style: solid;"></button>
                            <button class="divbox btn" style="border-style: dotted;"></button>
                            <button class="divbox btn" style="border-style: dashed;"></button>
                            <button class="divbox btn" style="border-style: groove;"></button>
                            <button class="divbox divbox-selected btn" style="border-style: none;"></button>
                        </div>
                        <br>
                        <div>
                            <h6>Select the size of the border:</h6>
                            <select id="pageBorderSelect" class="form-select">
                                <option value="0.5px">0.5px</option>
                                <option value="0.75px">0.75px</option>
                                <option value="1px">1px</option>
                                <option value="1.5px">1.5px</option>
                                <option value="2px">2px</option>
                                <option value="2.5px">2.5px</option>
                                <option value="3px">3px</option>
                                <option value="4px">4px</option>
                                <option value="5px">5px</option>
                            </select>
                        </div>
                        <br>
                        <div>
                            <h6>Select the color of the border:</h6>
                            <input type="color" id="pageBorderColorSelect" class="form-control form-control-color">
                        </div>
                        <br>
                        <div>
                            <h6>Enable for which area?</h6>
                            <input class="form-check-input page-border-dir-enable" type="checkbox" id="topBorder" checked>
                            <label class="form-check-label" for="topBorder">Top &nbsp;&nbsp;</label>
                            <input class="form-check-input page-border-dir-enable" type="checkbox" id="bottomBorder" checked>
                            <label class="form-check-label" for="bottomBorder">Bottom &nbsp;&nbsp;</label>
                            <input class="form-check-input page-border-dir-enable" type="checkbox" id="leftBorder" checked>
                            <label class="form-check-label" for="leftBorder">Left &nbsp;&nbsp;</label>
                            <input class="form-check-input page-border-dir-enable" type="checkbox" id="rightBorder" checked>
                            <label class="form-check-label" for="rightBorder">Right &nbsp;&nbsp;</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn text-light" style="background-color: var(--orange_main);" data-bs-dismiss="modal" id="applyPageBorder">Add Border</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for font colors -->
        <div class="modal fade" id="fontColorModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Select Font Color</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <span class="colorFontDot" style="background-color: yellow"></span>
                        <span class="colorFontDot" style="background-color: lightyellow;"></span>
                        <span class="colorFontDot" style="background-color: lightcoral;"></span>
                        <span class="colorFontDot" style="background-color: cornflowerblue"></span>
                        <span class="colorFontDot" style="background-color: lightgray"></span>
                        <span class="colorFontDot" style="background-color: gray"></span>
                        <span class="colorFontDot" style="background-color: white"></span>
                        <span class="colorFontDot" style="background-color: lightgreen"></span>
                        <span class="colorFontDot" style="background-color: violet;"></span>
                        <br><br>
                        <div id="recentFontColors">
                            <h5>Recent Colors</h5>
                            <!-- Recent colors will appear here -->
                        </div>
                        <br><hr>
                        <p>Use custom fill:</p>
                        <input type="color" class="form-control form-control-color" id="fontColorSetter">
                    </div>
                    <div class="modal-footer">
                        <button id="execFontColor" class="btn text-light" style="background-color: var(--orange_main);" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for highlight colors -->
        <div class="modal fade" id="highlightModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Select Highlight Color</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <span class="colorHighlightDot" style="background-color: yellow"></span>
                        <span class="colorHighlightDot" style="background-color: lightyellow;"></span>
                        <span class="colorHighlightDot" style="background-color: lightcoral;"></span>
                        <span class="colorHighlightDot" style="background-color: cornflowerblue"></span>
                        <span class="colorHighlightDot" style="background-color: lightgray"></span>
                        <span class="colorHighlightDot" style="background-color: gray"></span>
                        <span class="colorHighlightDot" style="background-color: white"></span>
                        <span class="colorHighlightDot" style="background-color: lightgreen"></span>
                        <span class="colorHighlightDot" style="background-color: violet;"></span>
                        <br><br>
                        <div id="recentHighlights">
                            <h5>Recent Colors</h5>
                            <!-- Recent colors will appear here -->
                        </div>
                        <br><hr>
                        <p>Use custom fill:</p>
                        <input type="color" class="form-control-color form-control" id="highlightColorSetter">
                    </div>
                    <div class="modal-footer">
                        <button id="execHighlight" class="btn text-light" style="background-color: var(--orange_main);" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Modal for Page Resizing -->
        <div class="modal fade" data-bs-backdrop="static" id="pageDimensionModal">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Alter Page Dimensions</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p>Choose from an available variety of commonly used page dimensions:</p>
                        <select id="pageSizeOptions">
                            <option value="A4">A4</option>
                            <option value="Legal">Legal</option>
                            <option value="Tabloid">Tabloid</option>
                            <option value="Letter">Letter</option>
                            <option value="Executive">Executive</option>
                            <option value="Custom">Custom</option>
                        </select>
                        <br><br><br>
                        <div id="customPageDimensionsDiv" class="d-none">
                            <p>Custom Size:</p>
                            <form>
                                <input id="pageWidthSetter" type="number"> X <input id="pageHeightSetter" type="number">
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="executePageSize" class="btn text-light" style="background-color: var(--orange_main);" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for page colors -->
        <div class="modal fade" id="pageBackgroundColorModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Select Background Color</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <span class="colorDot" style="background-color: var(--bs-light);"></span>
                        <span class="colorDot" style="background-color: var(--bs-dark);"></span>
                        <span class="colorDot" style="background-color: var(--bs-primary);"></span>
                        <span class="colorDot" style="background-color: var(--bs-danger);"></span>
                        <span class="colorDot" style="background-color: var(--bs-warning);"></span>
                        <span class="colorDot" style="background-color: var(--bs-success);"></span>
                        <span class="colorDot" style="background-color: var(--bs-secondary);"></span>
                        <span class="colorDot" style="background-color: var(--bs-info);"></span>
                        <span class="colorDot" style="background-color: var(--orange_main);"></span>
                        <br><br>
                        <div id="recentBackgrounds">
                            <h5>Recent Colors</h5>
                            <!-- Recent colors will appear here -->
                        </div>
                        <br><hr>
                        <p>Use custom fill:</p>
                        <input type="color" id="pageBackgroundColorSetter">
                    </div>
                    <div class="modal-footer">
                        <button class="btn text-light" id="pageBackgroundColorBtn" style="background-color: var(--orange_main);" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for Insert Image -->
        <div class="modal fade" id="insertImageModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Insert an Image</h3>
                        <button class="btn btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p>Choose an image to be uploaded:</p>
                        <form>
                            <input accept="image/*" type="file" id="insertImageSetter">
                            <hr>
                            Insert the image as a background image?<br>
                            <div class="d-inline-block form-check form-switch">
                                <input type="checkbox" class="form-check-input" role="switch" id="imageObjective">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn text-light" id="insertImageModalBtn" style="background-color: var(--orange_main);" data-bs-dismiss="modal">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- Page Area -->
        <div id="page-area">
            <div class="page shadow border border-5 p-3 mx-auto" style="width: 21cm; min-height: 29.7cm; max-height: 29.7cm;" id="01">
                <div contenteditable="true" class="p-3 mainContent" style="outline: none;">
                    <div onload="this.focus()">&nbsp;</div>
                </div>
            </div>
        </div>

        <!-- Addong JS & Bootstrap 5 references -->
        <script src="../jQuery.js"></script>
        <script src="../bootstrap-5.1.1-dist/js/bootstrap.min.js"></script>
        <script src="./textEditor.js"></script>
        <script src="../Clock/StopWatch.js"></script>
        <script src="../Clock/LiveClock.js"></script>
        <script src="./fileHandling.js"></script>
        <script src="./themes.js"></script>
    </body>
</html>